<!DOCTYPE html>
<html >
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>MA CCSC Map Viewer</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="./css/vulnerability_report.css?__inline=true" media='all'>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
</head>

<body>
  <div id='ractive_root'></div>

  <!-- VIEW TEMPLATES -->
  <script id='heat_report_description' type='text/ractive'>
    <p class='lead'>
     Explain the heat
    </p>
  </script>
  <script id='drought_report_description' type='text/ractive'>
    <p class='lead'>
      Ezplain the drought
    </p>
  </script>
  <script id='slr_report_description' type='text/ractive'>
    <p class='lead'>
      Ezplain the slr
    </p>
  </script>
  <script id='flooding_report_description' type='text/ractive'>
    <p class='lead'>
      Ezplain the Floodin
    </p>
  </script>

  <script id='report_description' type='text/ractive'>
    {{#if hazard == 'heat' }}
      {{>heat_report_description}}
    {{elseif hazard == 'drought'}}
      {{>drought_report_description}}
    {{elseif hazard == 'slr' }}
      {{>slr_report_description}}
    {{elseif hazard == 'flooding'}}
      {{>flooding_report_description}}
    {{/if hazard == 'heat' }}
  </script>

  <script id='heat_report_graphs' type='text/ractive'>
    <div class='col-md-6'>
      <canvas class='graph' id='heat_report_chart_1'></canvas>
    </div>
    <div class='col-md-6'>
      <canvas class='graph' id='heat_report_chart_2'></canvas>
    </div>
  </script>
  <script id='drought_report_graphs' type='text/ractive'>
    <p>
      Ezplain the drought
    </p>
  </script>
  <script id='slr_report_graphs' type='text/ractive'>
    <p>
      Ezplain the slr
    </p>
  </script>
  <script id='flooding_report_graphs' type='text/ractive'>
    <p>
      Ezplain the Floodin
    </p>
  </script>
  <script id='report_graphs' type='text/ractive'>
    <div class='row'>
      <h3> Climate Projections <small> calculated for {{town.county}} County </h3>
    </div>
    <div class='row'>
      {{#if hazard == 'heat' }}
        {{>heat_report_graphs}}
      {{elseif hazard == 'drought'}}
        {{>drought_report_graphs}}
      {{elseif hazard == 'slr' }}
        {{>slr_report_graphs}}
      {{elseif hazard == 'flooding'}}
        {{>flooding_report_graphs}}
      {{/if hazard == 'heat' }}
    </div>
  </script>

  <script id='report_header' type="text/ractive">
     <div class='page-header row'>
      <h1>
        {{#if hazard == 'heat' }}
        Extreme Heat Hazard
        {{elseif hazard == 'drought'}}
        Drought Hazard
        {{elseif hazard == 'slr' }}
        Sea Level Rize Hazard
        {{elseif hazard == 'flooding'}}
        Stormwater Flooding Hazard
        {{/if hazard == 'heat' }}
        Report for {{town.name}}, MA
        <small>{{town.county}} County</small>
      </h1>
     </div>
  </script>

  <script id='heat_town_summary' type="text/ractive">
    <div class='col-md-8'>
         This is really great to know that the data is
     </div>
     <div class='col-md-4 town-facts'>
        <ul>
          <li> % Impervious ..... </li>
          <li> ..... </li>
        </ul>
     </div>
  </script>

  <script id='drought_town_summary' type="text/ractive">
     <div class='row'>
      <p>
         This is really great to know that the data is
      </p>
     </div>
  </script>

  <script id='slr_town_summary' type="text/ractive">
     <div class='row'>
      <p>
         This is really great to know that the data is

      </p>
     </div>
  </script>

  <script id='flooding_town_summary' type="text/ractive">
     <div class='row'>
      <p>
         This is really great to know that the data is
      </p>
     </div>
  </script>

  <script id='town_summary' type='text/ractive'>
    <div class='row'>
      <h3> Town Summary </h3>
    </div>
    <div class='row'>
      {{#if hazard == 'heat' }}
        {{> heat_town_summary}}
      {{elseif hazard == 'drought'}}
        {{> drought_town_summary}}
      {{elseif hazard == 'slr' }}
        {{> slr_town_summary}}
      {{elseif hazard == 'flooding'}}
        {{> stormwater_town_summary}}
      {{/if hazard == 'heat' }}
    </div>
  </script>
  <script id='vulnerability_report_template' type="text/ractive">
    <div class='container-fluid'>
      {{> report_header }}
      <div class='container'>
        {{> report_description }}
        <hr/>
        {{> report_graphs}}
        <hr/>
        {{> town_summary}}
      </div>
    </div>
  </script>

  <!-- VIEW TEMPLATES -->
  <!--[if IE]>
    <script src="https://www.promisejs.org/polyfills/promise-6.1.0.js"></script>
  <![endif]-->
  <script src="//code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src='https://unpkg.com/shpjs@latest/dist/shp.js'></script>

  <script>
    if (!console) {
      window.console = { log: function () { }, warn: function() {}, error: function () {}};
    }
  </script>

  <!-- OUR SYSTEM CODE -->

  <script src="./vendor/uri.js?__inline=true"></script>
  <script src="./vendor/colorbrewer.js?__inline=true"></script>
  <script src="./vendor/ractive.js?__inline=true"></script>
  <script src="./vendor/ractive-decorators-sortable.js?__inline=true"></script>
  <script src="./vendor/ractive-events-tap.js?__inline=true"></script>
  <script src='./vendor/ractive-tooltip.min.js?__inline=true'></script>
  <script src="./vendor/lodash.min.js?__inline=true"></script>
  <!-- THIS NEEDS TO BE FIRST -->
  <script src="./js/polyfills.js?__inline=true"></script>
  <script src="./js/vulnerability_report.js?__inline=true"></script>
</body>
</html>
